{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryand\\\\Documents\\\\Lambda\\\\unit2\\\\week3\\\\day3\\\\advancedforms\\\\src\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialUser = {\n  name: \"\",\n  email: \"\",\n  password: \"\",\n  tos: false\n};\nconst schema = yup.object().shape({\n  name: yup.string().required('user is required').max(20, 'username can only be 20 chars'),\n  email: yup.string().required('email is required'),\n  password: yup.string().required('password is required').min(8, 'password must be 8 chars.'),\n  tos: yup.boolean().oneOf([true], 'Please agree to the terms of service.')\n});\nexport default function Form(props) {\n  _s();\n\n  const [userValue, setUserValue] = useState(initialUser);\n  const [errors, setErrors] = useState(initialUser);\n  const [disabled, setDisabled] = useState(true);\n  const [newUserVal, setNewUserVal] = useState();\n\n  function getData() {\n    axios.get(`https://reqres.in/api/users`).then(res => {\n      setNewUserVal(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  useEffect(getData, []);\n  console.log(newUserVal);\n\n  const setFormErrors = (name, value) => {\n    yup.reach(schema, name).validate(value).then(() => setErrors({ ...errors,\n      [name]: ''\n    })).catch(err => setErrors({ ...errors,\n      [name]: err.errors[0]\n    }));\n  };\n\n  const changeHandler = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    const valueToUse = type === 'checkbox' ? checked : value;\n    setFormErrors(name, valueToUse);\n    setUserValue({ ...userValue,\n      [name]: valueToUse\n    });\n  };\n\n  const submit = event => {\n    event.preventDefault();\n    const newUser = {\n      user: userValue.name.trim(),\n      email: userValue.email.trim(),\n      password: userValue.password.trim(),\n      tos: userValue.tos\n    };\n    axios.post(`https://reqres.in/api/users`, newUser).then(res => {\n      setUserValue({\n        name: '',\n        email: '',\n        password: '',\n        tos: false\n      });\n      console.log(res);\n    });\n  };\n\n  useEffect(() => {\n    schema.isValid(userValue).then(valid => setDisabled(!valid));\n  }, [userValue]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errors.tos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"Name Here\",\n          value: userValue.name,\n          onChange: changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email Here\",\n          value: userValue.email,\n          onChange: changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"Password Here\",\n          value: userValue.password,\n          onChange: changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Agree to Terms of Service:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"tos\",\n          type: \"checkbox\",\n          value: userValue.tos,\n          checked: userValue.tos,\n          onChange: changeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: disabled,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Form, \"d4vqAYq7MKyZ3pVhbgtsPsigCZk=\");\n\n_c = Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["C:/Users/ryand/Documents/Lambda/unit2/week3/day3/advancedforms/src/Form.js"],"names":["React","useState","useEffect","yup","axios","initialUser","name","email","password","tos","schema","object","shape","string","required","max","min","boolean","oneOf","Form","props","userValue","setUserValue","errors","setErrors","disabled","setDisabled","newUserVal","setNewUserVal","getData","get","then","res","data","catch","err","console","log","setFormErrors","value","reach","validate","changeHandler","e","type","checked","target","valueToUse","submit","event","preventDefault","newUser","user","trim","post","isValid","valid","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport * as yup from 'yup';\r\nimport axios from 'axios';\r\n\r\nconst initialUser = {\r\n    name:\"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    tos: false\r\n}\r\n\r\nconst schema = yup.object().shape({\r\n    name: yup.string().required('user is required').max(20, 'username can only be 20 chars'),\r\n    email: yup.string().required('email is required'),\r\n    password: yup.string().required('password is required').min(8, 'password must be 8 chars.'),\r\n    tos: yup.boolean().oneOf([true], 'Please agree to the terms of service.'),\r\n})\r\n\r\nexport default function Form(props){\r\n\r\n    const [userValue, setUserValue] = useState(initialUser);\r\n    const [errors, setErrors] = useState(initialUser);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [newUserVal, setNewUserVal] = useState()\r\n\r\n    function getData() {\r\n        \r\n        axios\r\n          .get(\r\n            `https://reqres.in/api/users`\r\n          )\r\n          .then((res) => {\r\n              setNewUserVal(res.data)\r\n          })\r\n          .catch((err) => {\r\n              console.log(err)\r\n          })\r\n      }\r\n      useEffect(getData, [])\r\n\r\n      console.log(newUserVal);\r\n\r\n    const setFormErrors = (name, value) => {\r\n        yup.reach(schema, name).validate(value)\r\n        .then(() => setErrors({...errors, [name]: '' }))\r\n        .catch(err => setErrors({...errors, [name]: err.errors[0] }))\r\n    };\r\n\r\n    const changeHandler = (e) => {\r\n        const {name, value, type, checked} = e.target\r\n        const valueToUse = type === 'checkbox' ? checked : value\r\n        setFormErrors(name, valueToUse)\r\n        setUserValue({...userValue, [name]: valueToUse})\r\n    };\r\n\r\n    const submit = event => {\r\n        event.preventDefault()\r\n        const newUser = { user: userValue.name.trim(), email: userValue.email.trim(), password: userValue.password.trim(), tos: userValue.tos}\r\n        axios.post(`https://reqres.in/api/users`, newUser)\r\n        .then(res => {\r\n            setUserValue({ name:'', email:'', password:'', tos:false })\r\n            console.log(res)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n    \r\n        schema.isValid(userValue).then(valid => setDisabled(!valid))\r\n    \r\n    }, [userValue]);\r\n\r\nreturn(\r\n<div>\r\n    <div style={{color : 'red'}}>\r\n        <div>{errors.name}</div>\r\n        <div>{errors.email}</div>\r\n        <div>{errors.password}</div>\r\n        <div>{errors.tos}</div>\r\n    </div>\r\n    <form onSubmit={submit}>\r\n        <label>\r\n        Name:    \r\n            <input\r\n             name=\"name\"\r\n             type=\"text\"\r\n             placeholder=\"Name Here\"\r\n             value={userValue.name}\r\n             onChange={changeHandler}\r\n            />\r\n        </label>\r\n        <label>\r\n        Email:        \r\n            <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder=\"Email Here\"\r\n            value={userValue.email}\r\n            onChange={changeHandler}  \r\n            />  \r\n        </label>\r\n        <label>\r\n        Password:\r\n            <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password Here\"\r\n            value={userValue.password}\r\n            onChange={changeHandler}  \r\n            />\r\n        </label>\r\n        <label>\r\n            Agree to Terms of Service:\r\n            <input\r\n            name=\"tos\"\r\n            type=\"checkbox\"\r\n            value={userValue.tos}\r\n            checked={userValue.tos}\r\n            onChange={changeHandler}  \r\n            />\r\n        </label>\r\n     <button disabled={disabled}>Submit</button>\r\n    </form>\r\n</div>\r\n)\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}